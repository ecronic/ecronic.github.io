<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Ecronic`s Blog</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" href="image/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/tomorrow.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/typed.js/1.1.1/typed.min.js'></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <div id="wrapper" class="main">
        <header>
    <div class="container">
        <span class="banner"><a href="/">Ecronic`s Blog</a></span>
        <span class="menu">Menu</span>
        <ul class="menu_list hide">
            
                <li><a href="/" >主页</a></li>
            
                <li><a href="/categories/技术" >海无涯</a></li>
            
                <li><a href="/categories/生活" >慢生活</a></li>
            
                <li><a href="/archives" >归档</a></li>
            
                <li><a href="/resume" >阅历</a></li>
            
                <li><a href="/about" >关于</a></li>
            
        </ul>
    </div>
</header>
        <div class="theme_block">
    <div class="container">
        <h2>
            
                <a href="http://localhost:4000">码字织文</a>
            
        </h2>
    </div>
</div>

    <div class="container container-body">
    <article>
        <h1 class='post-title'>
            <span>Ubuntu 使用笔记</span>
        </h1>
        <section class='post-content'>
            
                
            
            <p>使用 Ubuntu 过程中遇到的问题及解决方案。</p>
<h2 id="使用-git-pull-遇到问题"><a href="#使用-git-pull-遇到问题" class="headerlink" title="使用 git pull 遇到问题"></a>使用 git pull 遇到问题</h2><p>提示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Agent admitted failure to sign using the key.</span><br><span class="line">Permission denied (publickey).</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>
<p>解决方法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<h2 id="图形界面编辑配置文件"><a href="#图形界面编辑配置文件" class="headerlink" title="图形界面编辑配置文件"></a>图形界面编辑配置文件</h2><p>安装 dconf-editor。</p>
<h2 id="配置-Exchange"><a href="#配置-Exchange" class="headerlink" title="配置 Exchange"></a>配置 Exchange</h2><p>为 ThunderBird 安装插件 ExQuilla，有时被墙。</p>
<p><a href="http://mesquilla.net/exquilla-currentrelease-tb-linux.xpi" target="_blank" rel="noopener">http://mesquilla.net/exquilla-currentrelease-tb-linux.xpi</a></p>
<h2 id="安装和配置-JDK"><a href="#安装和配置-JDK" class="headerlink" title="安装和配置 JDK"></a>安装和配置 JDK</h2><p>在 Terminal 运行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team/java</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install oracle-java8-installer</span><br><span class="line"></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-8-oracle</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE_HOME</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h2 id="配置-adt"><a href="#配置-adt" class="headerlink" title="配置 adt"></a>配置 adt</h2><p>安装兼容 32 位 adb 运行的环境</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</span><br></pre></td></tr></table></figure>
<p>添加路径到 $PATH 环境变量，修改 /etc/profile 或 ~/.profile 等皆可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ANDROID_SDK_HOME=/home/mzlogin/android/sdk</span><br><span class="line">export PATH=$ANDROID_SDK_HOME/platform-tools:$ANDROID_SDK_HOME/tools:$PATH</span><br></pre></td></tr></table></figure>
<h2 id="安装-SVN-图形前端-RabbitVCS"><a href="#安装-SVN-图形前端-RabbitVCS" class="headerlink" title="安装 SVN 图形前端 RabbitVCS"></a>安装 SVN 图形前端 RabbitVCS</h2><p>在 Terminal 运行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:rabbitvcs/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install rabbitvcs-nautilus3 rabbitvcs-thunar rabbitvcs-gedit rabbitvcs-cli</span><br></pre></td></tr></table></figure>
<h2 id="创建-eclipse-快捷方式"><a href="#创建-eclipse-快捷方式" class="headerlink" title="创建 eclipse 快捷方式"></a>创建 eclipse 快捷方式</h2><p>/usr/share/applications 里新建 Eclipse.desktop，填如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name=Eclipse</span><br><span class="line">Comment=Launch Eclipse</span><br><span class="line">Exec=/home/mzlogin/android/eclipse/eclipse</span><br><span class="line">Icon=/home/mzlogin/android/eclipse/icon.xpm</span><br><span class="line">StartupNotify=true</span><br><span class="line">Terminal=false</span><br><span class="line">Type=Application</span><br></pre></td></tr></table></figure>
<h2 id="安装-XMind"><a href="#安装-XMind" class="headerlink" title="安装 XMind"></a>安装 XMind</h2><p>到 XMind 官网下载安装包，然后 ：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg --ignore-depends=lame,libwebkitgtk-1.0-0 -i xmind-linux-3.5.0.201410310637_amd64.deb</span><br></pre></td></tr></table></figure>
<h2 id="切换输入法"><a href="#切换输入法" class="headerlink" title="切换输入法"></a>切换输入法</h2><p>添加一个英文，一个五笔，将切换到上一个源和下一个源的快捷键分别设为左和右 Shift，这样就可以使用左右 Shift 在中英之间来回切换了。</p>
<p>安装 im-switch 会导致语言支持被移除，恢复用 <code>sudo apt-get install language-selector-gnome</code>。</p>
<h2 id="消除启动-gVim-在-terminal-中的警告"><a href="#消除启动-gVim-在-terminal-中的警告" class="headerlink" title="消除启动 gVim 在 terminal 中的警告"></a>消除启动 gVim 在 terminal 中的警告</h2><p>安装 vim-gnome 后运行 gVim 会提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GLib-GObject-WARNING **: Attempt to add property GnomeProgram::sm-connect after class was initialised</span><br></pre></td></tr></table></figure>
<p>改为安装 vim-gtk 就好了。</p>
<h2 id="解决-ibus-五笔候选词水平显示和个数的问题"><a href="#解决-ibus-五笔候选词水平显示和个数的问题" class="headerlink" title="解决 ibus 五笔候选词水平显示和个数的问题"></a>解决 ibus 五笔候选词水平显示和个数的问题</h2><p>修改 /usr/share/ibus-table/tables/wubi-jidian86.db 的 ime 表里的 orientation（水平 0 垂直 1）和 select_keys（有几个选择键就有几个项，从下面代码可知用 <code>,</code> 分隔）。</p>
<p>/usr/share/ibus-tables/engine/tabsqlitedb.py 中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page_size</span> <span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> len(self.get_select_keys().split(<span class="string">','</span>))</span><br></pre></td></tr></table></figure>
<h2 id="将-Caps-Lock-映射为-Ctrl"><a href="#将-Caps-Lock-映射为-Ctrl" class="headerlink" title="将 Caps Lock 映射为 Ctrl"></a>将 Caps Lock 映射为 Ctrl</h2><ol>
<li><p>安装 Gnome Tweak Tool</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-tweak-tool</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开 tweak-tool，找到「打字」－「大写锁定键行为」，选择「将 CapsLock 作为额外的 Ctrl」</p>
</li>
</ol>
<p>参考 <a href="http://askubuntu.com/questions/462021/how-do-i-turn-caps-lock-into-an-extra-control-key" target="_blank" rel="noopener">http://askubuntu.com/questions/462021/how-do-i-turn-caps-lock-into-an-extra-control-key</a></p>
<h2 id="将个人文件夹下文件夹名改为英文"><a href="#将个人文件夹下文件夹名改为英文" class="headerlink" title="将个人文件夹下文件夹名改为英文"></a>将个人文件夹下文件夹名改为英文</h2><p>~ 目录下的「桌面」和「文档」等文件夹是中文，在 Terminal 下输入很不方便，将其改为英文的方法：</p>
<ol>
<li><p>打开 ~/.config/user-dirs.dirs，将其中的中文改掉：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">XDG_DESKTOP_DIR=&quot;$HOME/desktop&quot;</span><br><span class="line">XDG_DOWNLOAD_DIR=&quot;$HOME/downloads&quot;</span><br><span class="line">XDG_TEMPLATES_DIR=&quot;$HOME/templates&quot;</span><br><span class="line">XDG_PUBLICSHARE_DIR=&quot;$HOME/public&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR=&quot;$HOME/documents&quot;</span><br><span class="line">XDG_MUSIC_DIR=&quot;$HOME/music&quot;</span><br><span class="line">XDG_PICTURES_DIR=&quot;$HOME/pictures&quot;</span><br><span class="line">XDG_VIDEOS_DIR=&quot;$HOME/videos&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在文件管理器中将 HOME 目录下的中文文件夹名改成与上面的配置对应。</p>
</li>
</ol>
<h2 id="输入「」与『』"><a href="#输入「」与『』" class="headerlink" title="输入「」与『』"></a>输入「」与『』</h2><p>极点五笔中文输入状态下，按 [] 即输入「」，按 {} 即输入『』。</p>
<h2 id="VirtualBox-里-Ubuntu-分辨率无法调整"><a href="#VirtualBox-里-Ubuntu-分辨率无法调整" class="headerlink" title="VirtualBox 里 Ubuntu 分辨率无法调整"></a>VirtualBox 里 Ubuntu 分辨率无法调整</h2><p>Ubuntu 14.04 LTS 在 VirtualBox 中刚安装完时，分辨率只有 640*480 一种选项，无法调整。</p>
<p>解决方法：</p>
<ol>
<li><p>打开 xdiagnose</p>
<p><img src="/images/posts/linux/xdiagnose.png" alt=""></p>
</li>
<li><p>勾选 Debug 下的所有选项</p>
<p><img src="/images/posts/linux/xdiagnose-2.png" alt=""></p>
</li>
<li><p>重启</p>
</li>
<li><p>安装增强功能</p>
<p><img src="/images/posts/linux/install-additions.png" alt=""></p>
<p>然后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /media/&lt;username&gt;/VBOXADDITIONS_X.X.XX_XXXXX</span><br><span class="line">sudo ./VBoxLinuxAdditions.run</span><br></pre></td></tr></table></figure>
<p>（注意把 username 替换成自己的，VBOXADDITIONS 后面的 X 换成具体版本号）</p>
</li>
</ol>
<h2 id="与-Win7-共享-SSH-key"><a href="#与-Win7-共享-SSH-key" class="headerlink" title="与 Win7 共享 SSH key"></a>与 Win7 共享 SSH key</h2><p>如下步骤适用于在 Ubuntu 上使用从 Win7 拷贝的 SSH key，反之应该也一样能用。</p>
<p>创建 ~/.ssh 目录，确认其权限为 0700，将 Windows %userprofile%/.ssh 下的 id_rsa 和 id_rsa.pub 文件拷贝到 ~/.ssh 目录下，权限分别改为 0600 和 0644。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mzlogin@ubuntu:~$ ll ~/.ssh</span><br><span class="line">total 20</span><br><span class="line">drwx------  2 mzlogin mzlogin 4096 Jun 22 01:03 ./</span><br><span class="line">drwxr-xr-x 20 mzlogin mzlogin 4096 Jun 22 01:02 ../</span><br><span class="line">-rw-------  1 mzlogin mzlogin 1679 Jun 21 05:17 id_rsa</span><br><span class="line">-rw-r--r--  1 mzlogin mzlogin  399 Jun 21 05:17 id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>然后</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>

        </section>
        
            <section id="comments">
                
            </section>
        
    </article>
    <div class="sidebar">
        <div class="search">
            <input id="search-enable" type="text" name="search-enable" value="Search">
        </div>
        <div class="widget">
            <div class="widget-title">
                <label class="category">分类</label>
            </div>
            <div class="category-content">
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术/Ubuntu/">Ubuntu</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/算法/">算法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/虚拟化/">虚拟化</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/生活/摄影/">摄影</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/杂感/">杂感</a><span class="category-list-count">1</span></li></ul></li></ul>
            </div>
        </div>

        <div class="widget">
            <div class="widget-title">
                <label class="tags">标签</label>
            </div>
            <div class="tags-content">
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Libvirt/">Libvirt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂感/">杂感</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络协议/">网络协议</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟化/">虚拟化</a><span class="tag-list-count">1</span></li></ul>
            </div>
        </div>
        <div class="widget">
            <div class="widget-title">
                <label class="articles">最近文章</label>
            </div>
            <div class="articles-content">
                <ul>
                    
                    
                        
                            
                            <li>
                                <a href="/2014/03/28/2014-3-28-流年/">流年</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2017/11/22/2016-01-12-use-ubuntu-notes/">Ubuntu 使用笔记</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2018/05/11/2018-05-11-database-transaction/">数据库事务及其特性介绍</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2020/01/05/2019-05-05-dfs/">DFS原理及应用</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2020/01/05/2019-05-05-bfs/">BFS原理及应用</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2020/01/05/2019-05-05-stack/">C++栈的原理及应用</a>
                            </li>
                        
                    
                        
                            
                            <li>
                                <a href="/2019/04/07/2019-04-07-libvirt-api/">Libvirt API开发指南</a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
        <div class="widget">
            <div class="widget-title">
                <label class="links">友情链接</label>
            </div>
            <div class="links-content">
                <ul>
                    <li>
                        <a href="https://www.haomwei.com/">屠城</a>
                    </li>
                    <li>
                        <a href="https://www.haomwei.com/">屠城</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

    </div>
    <script src="/js/index.js"></script>
</body>
</html>